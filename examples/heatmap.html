<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Heatmap example</title>

        <!-- D3 v5 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
        <!-- Visualizations -->
        <script src="../dist/bundle.js"></script>
        <script src="data/randomGenerator.js"></script>
        <style>
            body {
                margin: 0;
            }
        </style>
    </head>
    <body>
        <div id="heatmap"></div>
        <button id="cluster">Cluster!</button>
        <button id="resize">Resize!</button>

        <script>
            const amountOfRows = 50;
            const amountOfColumns = 50;

            // const randomData = [[1, 0.9211902278978557, 0.9343760336197924, 0.9193090300024874, 0.9384457907738857, 0.922024968281657, 0.936162800943654, 0.9207150200294566], [0.9211902278978557, 1, 0.9337899085169843, 0.9094278098646122, 0.9083623807006187, 0.9039142781397811, 0.9243704387005657, 0.9284471532701012], [0.9343760336197924, 0.9337899085169843, 1, 0.9272176770748117, 0.9142985365876407, 0.9262128516619728, 0.9379220860037747, 0.9351640555162662], [0.9193090300024874, 0.9094278098646122, 0.9272176770748117, 1, 0.9130004653439143, 0.9093596960657009, 0.9150095904849151, 0.9127847043752647], [0.9384457907738857, 0.9083623807006187, 0.9142985365876407, 0.9130004653439143, 1, 0.9132072167703796, 0.9331230768957371, 0.9061135238258619], [0.922024968281657, 0.9039142781397811, 0.9262128516619728, 0.9093596960657009, 0.9132072167703796, 1, 0.9351840408273583, 0.9021199918125352], [0.936162800943654, 0.9243704387005657, 0.9379220860037747, 0.9150095904849151, 0.9331230768957371, 0.9351840408273583, 1, 0.9253493745215933], [0.9207150200294566, 0.9284471532701012, 0.9351640555162662, 0.9127847043752647, 0.9061135238258619, 0.9021199918125352, 0.9253493745215933, 1]]

            const randomData = getRandomData(amountOfRows, amountOfColumns);

            const rows = [];
            const cols = [];
            const grid = [];

            for (let i = 0; i < amountOfRows; i++) {
                rows.push("Family " + i);
            }

            for (let i = 0; i < amountOfColumns; i++) {
                cols.push("Sample " + i);
            }

            const heatmapElement = document.getElementById("heatmap");

            if (heatmapElement) {
                let heatmap = new Heatmap.Heatmap(heatmapElement, randomData, rows, cols, {
                    width: 500,
                    height: 500
                });

                document.getElementById("cluster")
                    .addEventListener("click", () => {
                        heatmap.cluster();
                    });

                document.getElementById("resize")
                    .addEventListener("click", () => {
                        heatmap.resize(1000, 1000);
                    });
            }
        </script>
    </body>
</html>
