<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Heatmap example</title>

        <!-- D3 v5 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
        <!-- Visualizations -->
        <script src="../dist/bundle.js"></script>
        <script src="data/randomGenerator.js"></script>
        <style>
            body {
                margin: 0;
            }
        </style>
    </head>
    <body>
        <div id="heatmap"></div>
        <button id="cluster">Cluster!</button>

        <script>
            const amountOfRows = 20;
            const amountOfColumns = 20;
            const randomData = getRandomData(amountOfRows, amountOfColumns);

            const rows = [];
            const cols = [];
            const grid = [];

            for (let i = 0; i < amountOfRows; i++) {
                rows.push("Family " + i);
            }

            for (let i = 0; i < amountOfColumns; i++) {
                cols.push("Sample " + i);
            }

            const heatmapElement = document.getElementById("heatmap");

            if (heatmapElement) {
                let heatmap = new Heatmap.Heatmap(heatmapElement, randomData, rows, cols, {
                    width: 500,
                    height: 500
                });

                document.getElementById("cluster")
                    .addEventListener("click", () => {
                        heatmap.cluster();
                    });
            }
        </script>
    </body>
</html>
